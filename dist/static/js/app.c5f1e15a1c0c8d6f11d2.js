webpackJsonp([4],{"7mDb":function(t,i){},NHnr:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=n("Xxa5"),o=n.n(a),e=n("exGp"),s=n.n(e),c=n("mvHQ"),u=n.n(c),r=n("7+uW"),l={data:function(){return{showPlayList:!1,bofang:!0,duration:0,currentTime:0,playState:"all",geciArr:[]}},updated:function(){this.$store.state.audio.audioShow&&(this.$store.state.bofang?($(".audioEl")[0].play(),this.duration=$(".audioEl")[0].duration):$(".audioEl")[0].pause())},methods:{changePlayList:function(){this.$store.dispatch("SWITCHAUDIO",{way:"now"}),this.showPlayList=!this.showPlayList},changeBofang:function(){this.bofang=!this.bofang;this.$store.commit("CHANGEADIOBOFANG",{bofang:this.bofang})},goBack:function(){this.$store.commit("CHANGEADIOSHOW",{status:!1})},getDuration:function(){this.duration=$(".audioEl")[0].duration},playAudio:function(){var t=this;this.currentTime=$(".audioEl")[0].currentTime;var i=this.currentTime/this.duration*100+"%";$(".range .currentTime").width(i);var n=this.getGeci;if(this.getGeci.forEach(function(i,a){t.currentTime>=i.time&&t.currentTime<=n[a+1>=n.length?a:a+1].time&&$(".lyric ul").css("top",$(".lyric").height()/2-26*a+"px")}),$(".audioEl")[0].ended)switch(console.log("yes"),this.playState){case"all":this.$store.dispatch("SWITCHAUDIO",{way:"next"});break;case"once":this.$store.dispatch("SWITCHAUDIO",{way:"now"});break;case"random":this.$store.dispatch("SWITCHAUDIO",{way:"random"})}},changeProgress:function(t){var i=parseFloat(t.clientX-$(".range")[0].offsetLeft)/$(".range").width();this.currentTime=$(".audioEl")[0].duration*i,$(".audioEl")[0].currentTime=this.currentTime},changePlayMode:function(){switch(this.playState){case"all":this.playState="once";break;case"once":this.playState="random";break;case"random":this.playState="all"}},toForward:function(){this.$store.dispatch("SWITCHAUDIO",{way:"pre"}),this.$store.dispatch("getLyc"),this.$store.commit("CHANGELYCSHOW",{geciShow:!1})},toNext:function(){this.$store.dispatch("SWITCHAUDIO",{way:"next"}),this.$store.dispatch("getLyc"),this.$store.commit("CHANGELYCSHOW",{geciShow:!1})},changeGeci:function(){this.$store.commit("CHANGELYCSHOW",{geciShow:!this.getGeciIfShow})},showLyc:function(){this.$store.dispatch("getLyc"),this.changeGeci()}},computed:{getAudioData:function(){return this.$store.state.audio},getAudioMess:function(){var t=this.getAudioData.index;return null==this.getAudioData.albumIndex?this.$store.state.audio.info:this.$store.state.audio.info.albumList[t]},getBgImg:function(){return null==this.getAudioData.albumIndex?this.getAudioMess.playerbg:this.getAudioData.info.playerbg},getSingerImg:function(){return null==this.getAudioData.albumIndex?this.getAudioMess.singerImg:this.getAudioData.info.albumImg},getBofang:function(){return this.$store.state.bofang},getGeci:function(){return this.getAudioData.lyc},getGeciIfShow:function(){return this.$store.state.geciShow}},filters:{zhuanhuan:function(t){var i="",n=Math.floor(t/60)%60,a=t%60;return n<10&&(i+="0"),i+=n+":",a<10&&(i+="0"),i+=~~a}}},d={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"audioplayerPage",style:{background:"#000 url("+t.getBgImg+") 0 0/contain no-repeat"}},[a("div",{staticClass:"popwindow",class:{cur:t.showPlayList},on:{click:t.changePlayList}}),t._v(" "),a("header",[a("span",{staticClass:"iconfont icon-houtui1",on:{click:function(i){t.goBack()}}}),t._v("\n        "+t._s("number"==typeof t.getAudioData.index?t.getAudioMess.musicName:"播放器")+"\n    ")]),t._v(" "),"number"==typeof t.getAudioData.index?a("span",[a("audio",{ref:"audioEle",staticClass:"audioEl",attrs:{src:t.getAudioMess.musicUrl,autoplay:""},on:{loadedmetadata:function(i){t.getDuration()},timeupdate:function(i){t.playAudio()}}})]):t._e(),t._v(" "),a("div",{staticClass:"content"},[t.getGeciIfShow?t._e():a("div",{staticClass:"cd",on:{click:function(i){t.showLyc()}}},[a("img",{attrs:{src:n("zZda")}}),t._v(" "),a("div",{staticClass:"singerbg",class:{cur:t.bofang}},[a("img",{attrs:{src:t.getSingerImg}})])]),t._v(" "),t._m(0),t._v(" "),t.getGeciIfShow?a("div",{staticClass:"lyric",on:{click:function(i){t.changeGeci()}}},[a("ul",t._l(t.getGeci,function(i,n){return a("li",{class:{cur:t.currentTime>i.time&&t.currentTime<=t.getGeci[n+1>=t.getGeci.length?n:n+1].time}},[a("span",{staticClass:"animationLyric_origin"},[t._v(t._s(i.content)+"\n                        "),a("span",{staticClass:"animationLyric_current",style:{"animation-duration":t.getGeci[n+1>=t.getGeci.length?n:n+1].time-t.getGeci[n].time+"s"}},[t._v(t._s(i.content))])])])}))]):t._e(),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"progressBar"},[a("p",{staticClass:"start"},[t._v(t._s(t._f("zhuanhuan")(t.currentTime)))]),t._v(" "),a("p",{staticClass:"range",on:{click:function(i){t.changeProgress(i)}}},[t._m(2)]),t._v(" "),a("p",{staticClass:"end"},[t._v(t._s(t._f("zhuanhuan")(t.duration)))])]),t._v(" "),a("div",{staticClass:"controller"},[a("p",{staticClass:"playmodebtn iconfont",class:[{"icon-xunhuan":"all"===t.playState},{"icon-singlecycle":"once"===t.playState},{"icon-bofangye-caozuolan-suijibofang":"random"===t.playState}],on:{click:function(i){t.changePlayMode()}}}),t._v(" "),a("ul",[a("li",{staticClass:"iconfont icon-previous",on:{click:function(i){t.toForward()}}}),t._v(" "),a("li",{staticClass:"iconfont icon-pause-20",class:{"icon-bofang":!t.getBofang},on:{click:function(i){t.changeBofang()}}}),t._v(" "),a("li",{staticClass:"iconfont icon-next",on:{click:function(i){t.toNext()}}})]),t._v(" "),a("p",{staticClass:"playlistbtn iconfont icon-zhankaicaidan",on:{click:t.changePlayList}})])]),t._v(" "),a("div",{staticClass:"playlist",class:{cur:t.showPlayList}},[a("ul",t._l(t.getAudioData.audioOrigins,function(i,n){return a("li",{class:{cur:n==t.getAudioMess.index},on:{click:function(t){}}},[a("span",{staticClass:"iconfont icon-laba"}),t._v(" "),a("span",[t._v(t._s(i.musicName))])])})),t._v(" "),a("footer",[a("span",{staticClass:"iconfont icon-guanbi",on:{click:t.changePlayList}})])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"swith"},[i("img",{attrs:{src:n("huxa")}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("ul",{staticClass:"setting"},[i("li",{staticClass:"iconfont icon-xin1"}),this._v(" "),i("li",{staticClass:"iconfont icon-icon--"}),this._v(" "),i("li",{staticClass:"iconfont icon-BAI-pinglun"}),this._v(" "),i("li",{staticClass:"iconfont icon-more-vert"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"duration"},[i("span",{staticClass:"currentTime"})])}]};var h={created:function(){this.$store.dispatch("GETDATA")},data:function(){return{navs:[{fontClass:"icon-music",url:"/indexmusic"},{fontClass:"icon-wangyiyunyinlezizhi-copy",url:"faxianmusic"},{fontClass:"icon-diantai",url:"radiomusic"}]}},methods:{routerGo:function(t){this.$router.push({path:t})},changAudioShow:function(){var t=this.$store.state.audio.album,i=this.$store.state.audio.index;if(this.$store.commit("CHANGEADIOSHOW",{status:!0}),null==t){var n=!1;this.$store.commit("CHANGEAUDIOINDEX",{audioIndex:i}),this.$store.commit("GETAUDIOINFO",{isAlbum:n,index:i})}else if("{}"!=u()(t)){n=!0;this.$store.commit("CHANGEAUDIOINDEX",{audioIndex:i}),this.$store.commit("GETAUDIOINFO",{isAlbum:n,index:i})}}},computed:{audioShow:function(){return this.$store.state.audio.audioShow},audioInfos:function(){return this.$store.state.audio.info}},components:{Audio:n("VU/8")(l,d,!1,function(t){n("o715")},"data-v-08682bba",null).exports}},m={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"header"},[n("span",{staticClass:"iconfont icon-caidan menu"}),t._v(" "),n("header",[n("ul",t._l(t.navs,function(i){return n("li",{staticClass:"iconfont",class:[i.fontClass,{cur:i.fontClass==t.$route.name}],on:{click:function(n){t.routerGo(i.url)}}})}))]),t._v(" "),n("span",{staticClass:"iconfont icon-zhuanjiguangpan",on:{click:t.changAudioShow}})]),t._v(" "),n("router-view"),t._v(" "),n("transition",{attrs:{name:"box"}},[n("Audio",{directives:[{name:"show",rawName:"v-show",value:t.audioShow,expression:"audioShow"}]})],1)],1)},staticRenderFns:[]};var f=n("VU/8")(h,m,!1,function(t){n("7mDb")},null,null).exports,g=n("/ocq");r.a.use(g.a);var p=new g.a({routes:[{path:"/indexmusic",name:"icon-music",component:function(){return n.e(0).then(n.bind(null,"3H4+"))}},{path:"/faxianmusic",name:"icon-wangyiyunyinlezizhi-copy",component:function(){return n.e(1).then(n.bind(null,"jggj"))}},{path:"/radiomusic",name:"icon-diantai",component:function(){return n.e(2).then(n.bind(null,"gy84"))}},{path:"/",name:"icon-diantai",redirect:"/indexmusic"}]}),v=n("7QTg"),A=n.n(v),b=n("NYxO"),I=n("mtWM"),y=n.n(I),C=n("Rf8U"),w=n.n(C),x={getGeciArr(t){for(var i=t.split("\n"),n=[],a=0;a<i.length;a++){var o=i[a].indexOf("]"),e=i[a].substring(1,o),s=i[a].substring(o+1);if(/\d{2}\:\d{2}\.\d{2}/g.test(e)){var c=60*+e.substring(0,e.indexOf(":"))+parseFloat(e.substring(e.indexOf(":")+1));n.push({time:c,content:s})}}return n}};n("v2ns");r.a.use(b.a),r.a.use(w.a,y.a),r.a.use(A.a);var _=new b.a.Store({state:{albumIndex:0,album:[],recommend:[],albumShow:!1,audio:{album:{},albumIndex:null,audioShow:!1,index:null,audioOrigins:[],info:{playerbg:"",albumImg:"",albumList:[]},lyc:[]},bofang:!0,geciShow:!1},mutations:{GETDATA:function(t,i){var n=i.mapList;t.album=n.album,t.recommend=n.recommend},CHANGEALBUMSHOW:function(t,i){var n=i.status;t.albumShow=n},CHANGEALBUMINDEX:function(t,i){var n=i.albumIndex;t.albumIndex=n},CHANGEADIOSHOW:function(t,i){var n=i.status;t.audio.audioShow=n},CHANGEADIOBOFANG:function(t,i){var n=i.bofang;t.bofang=n},CHANGEAUDIO:function(t,i){var n=i.album,a=i.audioIndex,o=i.audioShow,e=i.albumIndex;t.audio.album=n,t.audio.albumIndex=e,t.audio.index=a,t.audio.audioShow=o,t.audio.info=t.album[t.audio.albumIndex]},CHANGERECOMMENDAUDIO:function(t,i){var n=i.album,a=i.audioIndex,o=i.audioShow,e=i.albumIndex;t.audio.album=n,t.audio.albumIndex=e,t.audio.index=a,t.audio.audioShow=o,t.audio.info=t.recommend[a]},CHANGEAUDIOINDEX:function(t,i){var n=i.audioIndex;t.audio.index=n},GETAUDIOINFO:function(t,i){i.isAlbum?t.audio.info=t.audio.album:t.audio.info=t.recommend[i.index]},GETAUDIOSORIGIN:function(t){var i=t.audio.album;null==i?t.audio.audioOrigins=t.recommend:"{}"!=u()(i)&&(t.audio.audioOrigins=t.audio.album[t.albumIndex].albumList)},CHANGELYCSHOW:function(t,i){var n=i.geciShow;t.geciShow=n}},actions:{GETDATA:function(t,i){var n=this,a=t.commit;return s()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("static/data.json").then(function(t){return t.json()});case 2:i=t.sent,a("GETDATA",i);case 4:case"end":return t.stop()}},t,n)}))()},SWITCHAUDIO:function(t,i){var n=t.commit,a=t.state,o=i.way;n("GETAUDIOSORIGIN");var e=a.audio.audioOrigins.length,s=a.audio.index,c=a.audio.album;switch(o){case"pre":var r=s<=0?e-1:s-1;break;case"next":r=s+1>=e?0:s+1;break;case"now":r=s;break;case"random":r=(r=Math.floor(Math.random()*e))==s?Math.floor(Math.random()*e):r}if(n("CHANGEAUDIOINDEX",{audioIndex:r}),null==c)n("GETAUDIOINFO",{isAlbum:!1,index:a.audio.index});else if("{}"!=u()(c)){n("GETAUDIOINFO",{isAlbum:!0,index:a.audio.index})}},getLyc:function(t){var i=this,n=(t.commit,t.state);return s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.a.axios.get(n.audio.info.musicLyric).then(function(t){n.audio.lyc=t.data,n.audio.lyc=x.getGeciArr(t.data)});case 1:case"end":return t.stop()}},t,i)}))()}}});r.a.config.productionTip=!1,new r.a({el:"#app",store:_,router:p,components:{App:f},template:"<App/>"})},huxa:function(t,i,n){t.exports=n.p+"static/img/swith.98d5134.png"},o715:function(t,i){},v2ns:function(t,i){},zZda:function(t,i,n){t.exports=n.p+"static/img/cd.2c43052.png"}},["NHnr"]);
//# sourceMappingURL=app.c5f1e15a1c0c8d6f11d2.js.map